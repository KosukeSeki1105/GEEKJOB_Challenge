YahooショッピングAPIの利用

１.yahooIDを取得

２.http://developer.yahoo.co.jp/ にアクセスして、デベロッパーアカウントを取得

３.「デベロッパーネットワークトップ > アプリケーションの管理 > 
　新しいアプリケーションを開発」とアクセスし、
　アプリケーションの種類に「サーバーサイド」を選択。
　他は適当に入力しても構わない。

４.規約に同意し、続行。アプリケーションIDが入手できます(以後いつでも確認できる)。


Client ID：
dj00aiZpPXd5b2dXaGpMQ1EyRSZzPWNvbnN1bWVyc2VjcmV0Jng9Mjk-
シークレット：
1Cpy83tUNK2d0yzB9AxajgJC4nJ8QRASHp4O3v1v









＜search（結果一覧）＞
・topから検索により遷移できる。YahooショッピングAPIに直接検索キーワードを渡し、
　その結果を受け取り＆表示している。

・縦のリスト型に表示。サムネイルと、その横に商品名、金額が載っている。
　クリックでitemへ。


・検索キーワード、検索結果数を表示。

・結果は上位10件まで。

【search.jsp】
　爆速JSONP使用
　API使用





＜item（商品詳細ページ）＞
・searchまたはcartから遷移できる。商品IDをGETメソッドにより受け渡す。

　商品IDの入手方法
　クエリストリング



・YahooショッピングAPIから取得したデータで、より詳細な情報(概要や評価値)
　が表示される。

　商品コード検索APIを使用して詳細な情報を取得
　＊API使用



・「カートに追加する」ボタンがあり、クリックするとaddに遷移する。

　add.jspに遷移するリンクを記述







＜add（カートへ商品を追加）＞
・商品の情報を受け取り、クッキーやセッションに追加する。

　item.jspから遷移するときに商品情報を受け取る必要あり(商品コード)



・画面には「カートに追加しました」という文言が出てくる。







＜cart（カートページ）＞
・「カートに追加」でクッキーやセッションに保存された登録情報が登録古い順に
　表示される。

　１.add.jspでセッション("cart")に追加した商品コード情報を取得
　２.セッション("cart")を破棄　
　３.セッション("cartplus")を呼び出し
  ４.if(cartplusがnullでない場合)　＊商品コードが存在する
  	商品コードを既存の配列に追加
  	セッション("cartplus")に格納
  	else　　　　　　　　　　　　　 ＊商品コードが存在しない
 	配列を作成
  	商品コードを追加
  	セッション("cartplus")に格納



・商品の写真と名前(リンクつき)、金額を表示。
　１.商品コードAPIを使用
　２.リンクはitem.jspにGETで遷移
　３.ページチェックを行い、cart.jspからitem.jspに遷移した場合はカートに追加の
　　リンクはなしにする




・画面下部に全額の合計金額を表示する。

・「購入する」ボタンあり。

・各商品には「削除」のリンクあり。このリンクをクリックすることで、カートから商品を
　削除する。

・カートの中身はユーザー毎に切り替えられる。

・ログインしていない状態ならばログインページに遷移、そこでログインに成功した場合、
　非ログイン状態で「カートに追加」操作をしていた商品はそのユーザー用のカートに移る。


＊API使用





＜buyconfirm（購入 - 確認画面）＞
・カートに追加順で商品の名前(リンクなし)、金額が表示される。

・合計金額が表示され、その下に発送方法を選択するラジオボタンがある。

・「上記の内容で購入する」ボタンと「カートに戻る」ボタンがある。







＜buycomplete（購入 - 完了画面）＞
・購入データを保存。

・総購入金額を更新。

・「購入が完了しました」と表示。






＜myhistory（会員情報 - 購入履歴）＞
・これまで購入した商品の履歴が見れる。






